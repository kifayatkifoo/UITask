<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="app"></div>
    <div class="about"></div>
    <script>
        class UILibrary{
            constructor(el,initialState={},methods={}){
                this.el=document.querySelector(el);
                this.state=initialState;
                this.methods=methods;
                this.renderTemplate()
            }
            updateState(obj){
                Object.keys(obj).forEach(variable=>{
                    const variableValue=obj[variable]
                    this.state[variable]=variableValue
                });
                this.renderTemplate();
            }
            render(){
                return ``
            }
            renderTemplate(){
                let template=this.render();
                Object.keys(this.state).forEach(variable =>{
                    const variableValue=this.state[variable]
                    template=template.replace(new RegExp(`{{${variable}}}`,'g'),variableValue)

                });
                this.el.innerHTML=template;
            }
        }
        class Home extends UILibrary{
            constructor(el,state,methods){
                super(el,state,methods)
                setTimeout(()=>{
                    this.updateState({
                        compnyName:"Google",
                        date:"2019 Sept 1",
                        name:"ALI HUSSAIN",
                        address:"HUNZA",
                        dob:"2005-JUNE-22"
                    })
                },2000)
                setTimeout(()=>{
                    this.updateState({
                        compnyName:"Uconnect",
                        date:"2015 Sept 1",
                        name:"MOHSIN",
                        address:"ALI ABAD",
                        dob:"1990-JUNE-2"
                    })
                },3000);
                setTimeout(()=>{
                    this.updateState({
                        compnyName:"Google",
                        date:"2019 Sept 1",
                        name:"NAVEED ALI",
                        address:"HUSSAIN ABAD",
                        dob:"2000-DEC-27"
                    })
                },4000);
                setTimeout(()=>{
                    this.updateState({
                        compnyName:"Google",
                        date:"2019 Sept 1",
                        name:"HAIDER ",
                        address:"NAGAR",
                        dob:"2002-JAN-25"
                    })
                },5000);
                setTimeout(()=>{
                    this.updateState({
                        compnyName:"Uconnect",
                        name:"KIFAYAT KIFOO",
                        address:"GIlgit",
                        date:"2015 murch 12",
                        dob:"2001-Sept-30"
                    })
                },6000);
            }
            render(){
                return`<h1>Welcome to {{compnyName}} and its launch date is {{date}}. {{compnyName}} is very powerful</h1>
                       <h1> My name is {{name}}</h1>
                       <h1> I am form {{address}}</h1>
                       <h1> my date of birth is {{dob}}</h1>
                `
            }
        }
        class About extends UILibrary{
            render(){
                return `<div><h3>This is my data</h3></div>`
            }
        }
        const app =new Home(".app",{
            compnyName:"Uconnect",
            name:"KIFAYAT KIFOO",
            address:"GIlgit",
            date:"2015 murch 12",
            dob:"2001-Sept-30"
        },{});

        const about = new About(".about", {
        }, {});
    </script>
</body>
</html>